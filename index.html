<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>See Your Fate</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(180deg, #071026, #071733);
      font-family: system-ui, sans-serif;
      color: #e6eef8;
      text-align: center;
    }

    h1 {
      margin-bottom: 20px;
      font-size: 24px;
    }

    button {
      background: #7c3aed;
      border: none;
      padding: 16px 28px;
      font-size: 18px;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(124, 58, 237, 0.25);
      transition: background 0.3s;
      margin-bottom: 20px;
    }

    button:hover {
      background: #6d28d9;
    }

    video {
      max-width: 90%;
      max-height: 70vh;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
      margin-bottom: 12px;
    }

    .card-name {
      margin-top: 12px;
      font-size: 20px;
      font-weight: 600;
    }

    .error {
      margin-top: 12px;
      color: #ff6b6b;
    }

    .all-cards-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .all-cards-container video {
      max-width: 300px;
      max-height: 300px;
    }
  </style>
</head>
<body>
  <h1>See Your Fate</h1>
  <button id="drawBtn">Draw a Random Card</button>
  <div id="result"></div>

  <script>
    const cardNames = [
      'The Fool', 'The Magician', 'The High Priestess', 'The Empress', 'The Emperor',
      'The Hierophant', 'The Lovers', 'The Chariot', 'Strength', 'The Hermit',
      'Wheel of Fortune', 'Justice', 'The Hanged Man', 'Death', 'Temperance',
      'The Devil', 'The Tower', 'The Star', 'The Moon', 'The Sun', 'Judgement', 'The World'
    ];

    function drawCard() {
      const idx = Math.floor(Math.random() * cardNames.length);
      const name = cardNames[idx];
      const id = idx;
      const result = document.getElementById('result');
      result.innerHTML = '';

      // Create video element
      const video = document.createElement('video');
      video.src = `cards/card${id}.mp4`;
      video.autoplay = true;
      video.loop = true;
      video.muted = true;
      video.playsInline = true;
      video.controls = true;

      video.onerror = () => {
        const errorMsg = document.createElement('div');
        errorMsg.className = 'error';
        errorMsg.textContent = `Video cards/card${id}.mp4 failed to load. Check the path!`;
        result.appendChild(errorMsg);
      };

      result.appendChild(video);

      // Card name label
      const label = document.createElement('div');
      label.className = 'card-name';
      label.textContent = `${id}. ${name}`;
      result.appendChild(label);

      // Read More button -> links to subpage
      const readMoreBtn = document.createElement('button');
      readMoreBtn.textContent = 'Read More';
      readMoreBtn.addEventListener('click', () => {
        window.location.href = `cards/card-${id}.html`;
      });
      result.appendChild(readMoreBtn);

      // "See All Cards" button
      const seeAllBtn = document.createElement('button');
      seeAllBtn.textContent = 'See All Cards';
      seeAllBtn.addEventListener('click', showAllCards);
      result.appendChild(seeAllBtn);
    }

    function showAllCards() {
      const result = document.getElementById('result');
      result.innerHTML = '';

      const container = document.createElement('div');
      container.className = 'all-cards-container';

      cardNames.forEach((name, id) => {
        const cardWrapper = document.createElement('div');

        const video = document.createElement('video');
        video.src = `cards/card${id}.mp4`;
        video.autoplay = true;
        video.loop = true;
        video.muted = true;
        video.playsInline = true;
        video.controls = true;

        const label = document.createElement('div');
        label.className = 'card-name';
        label.textContent = `${id}. ${name}`;

        // link to subpage on click
        const readMoreLink = document.createElement('a');
        readMoreLink.textContent = 'Read More';
        readMoreLink.href = `cards/card-${id}.html`;
        readMoreLink.style.display = 'block';
        readMoreLink.style.marginTop = '8px';
        readMoreLink.style.color = '#7c3aed';

        cardWrapper.appendChild(video);
        cardWrapper.appendChild(label);
        cardWrapper.appendChild(readMoreLink);

        container.appendChild(cardWrapper);
      });

      result.appendChild(container);
    }

    document.getElementById('drawBtn').addEventListener('click', drawCard);
  </script>
</body>
</html>
